{"version":3,"sources":["webpack://infinite-scroller/./src/main.js"],"names":[],"mappings":";;;;;AAAA;AACA,gBAAgB,6CAAsB;AACtC,qEAAqE,QAAQ,SAAS,aAAa;;AAEnG;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED","file":"bundle.js","sourcesContent":["const PHOTOS_COUNT = 10;\nconst API_KEY = process.env.ACCESS_KEY;\nconst API_URL = `https://api.unsplash.com/photos/random/?client_id=${API_KEY}&count=${PHOTOS_COUNT}`;\n\nlet photosCollection = [];\nlet isLoaded = false;\n\nconst setAttributes = (item, attributes) => {\n  for (const key in attributes) {\n    item.setAttribute(key, attributes[key]);\n  }\n}\n\nconst getPhotosFromApi = async () => {\n  const loader = document.querySelector('.loader');\n  try {\n    const response = await fetch(API_URL);\n    photosCollection = await response.json();\n    displayImages(photosCollection);\n    isLoaded = true;\n    loader.hidden = true;\n  } catch (error) {\n    alert( \"Our apologies, the data has errors. We will try to fix it as soon as possible\" );\n  }\n}\n\nconst displayImages = (data) => {\n  const container = document.querySelector('.image-container');\n  data.forEach(element => {\n    const imageLink = document.createElement('a');\n    setAttributes(imageLink, {\n      href: element.urls.regular,\n      target: '_blank',\n      rel: 'noreferrer'\n    })\n\n    const img = document.createElement('img');\n    setAttributes(img, {\n      src: element.urls.regular,\n      alt: element.alt_description,\n      title: element.alt_description\n    })\n\n    imageLink.appendChild(img);\n    container.appendChild(imageLink);\n  })\n}\n\nwindow.addEventListener('scroll', () => {\n  if (window.scrollY + window.innerHeight / 2 >= document.body.clientHeight && isLoaded) {\n    getPhotosFromApi();\n    isLoaded = false;\n  }\n})\n\ngetPhotosFromApi()\n"],"sourceRoot":""}